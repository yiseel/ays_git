{"ast":null,"code":"var _jsxFileName = \"/Users/ahn-yiseel/Desktop/\\u1109\\u1162 \\u1111\\u1169\\u11AF\\u1103\\u1165/\\u110C\\u1161\\u11A8\\u110B\\u1165\\u11B8/study/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useReducer, useRef } from 'react';\nimport './App.css';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport Home from './pages/Home';\nimport New from './pages/New';\nimport Edit from './pages/Edit';\nimport Diary from './pages/Diary';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst reducer = (state, action) => {\n  let newState = [];\n\n  switch (action.type) {\n    case 'INIT':\n      {\n        return action.data;\n      }\n\n    case 'CREATE':\n      {\n        const newItem = { ...action.data\n        };\n        newState = [newItem, ...state];\n        break;\n      }\n\n    case 'REMOVE':\n      {\n        newState = state.filter(it => it.id !== action.targetId);\n        break;\n      }\n\n    case 'EDIT':\n      {\n        newState = state.map(it => it.id === action.data.id ? { ...action.data\n        } : it);\n        break;\n      }\n\n    default:\n      return state;\n  }\n\n  localStorage.setItem('diary', JSON.stringify(newState));\n  return;\n};\n\nexport const DiaryStateContext = /*#__PURE__*/React.createContext();\nexport const DiaryDispatchContext = /*#__PURE__*/React.createContext();\n\nfunction App() {\n  _s();\n\n  const [data, dispatch] = useReducer(reducer, []);\n  const dataId = useRef(0);\n  useEffect(() => {\n    const localData = localStorage.getItem('diary');\n\n    if (localData) {\n      const diaryList = JSON.parse(localData).sort((a, b) => parseInt(b.id) - parseInt(a.id)); // dataId.current = parseInt(diaryList[0].id) + 1;\n\n      console.log(diaryList[0].id + 1);\n      dispatch({\n        type: \"INIT\",\n        data: diaryList\n      });\n    }\n  }, []);\n\n  const onCreate = (date, content, emotion) => {\n    dispatch({\n      type: \"CREATE\",\n      data: {\n        id: dataId.current,\n        date: new Date(date).getTime(),\n        content,\n        emotion\n      }\n    });\n    dataId.current += 1;\n  };\n\n  const onEdit = (targetId, date, content, emotion) => {\n    dispatch({\n      type: \"EDIT\",\n      data: {\n        id: targetId,\n        date: new Date(date).getTime(),\n        content,\n        emotion\n      }\n    });\n  };\n\n  const onRemove = targetId => {\n    dispatch({\n      type: \"REMOVE\",\n      targetId\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(DiaryStateContext.Provider, {\n    value: data,\n    children: /*#__PURE__*/_jsxDEV(DiaryDispatchContext.Provider, {\n      value: {\n        onCreate,\n        onEdit,\n        onRemove\n      },\n      children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"App\",\n          children: /*#__PURE__*/_jsxDEV(Routes, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              path: \"/\",\n              element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 38\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/new\",\n              element: /*#__PURE__*/_jsxDEV(New, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/edit/:id\",\n              element: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 46\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/diary/:id\",\n              element: /*#__PURE__*/_jsxDEV(Diary, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 47\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"Kh4oNxjyQy/BK73851VZY/EKg8A=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/ahn-yiseel/Desktop/새 폴더/작업/study/src/App.js"],"names":["React","useEffect","useReducer","useRef","BrowserRouter","Routes","Route","Home","New","Edit","Diary","reducer","state","action","newState","type","data","newItem","filter","it","id","targetId","map","localStorage","setItem","JSON","stringify","DiaryStateContext","createContext","DiaryDispatchContext","App","dispatch","dataId","localData","getItem","diaryList","parse","sort","a","b","parseInt","console","log","onCreate","date","content","emotion","current","Date","getTime","onEdit","onRemove"],"mappings":"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","sourcesContent":["import React, { useEffect, useReducer, useRef } from 'react';\n\nimport './App.css';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\n\nimport Home from './pages/Home';\nimport New from './pages/New';\nimport Edit from './pages/Edit';\nimport Diary from './pages/Diary';\n\nconst reducer = (state, action) => {\n  let newState = [];\n  switch (action.type){\n    case 'INIT' : {\n      return action.data;\n    }\n    case 'CREATE' : {\n      const newItem = {\n        ...action.data\n      };\n      newState = [newItem, ... state];\n      break;\n    }\n    case 'REMOVE' : {\n      newState = state.filter((it)=> it.id !== action.targetId);\n      break;\n    }\n    case 'EDIT' : {\n      newState = state.map((it)=> it.id === action.data.id ? {...action.data} : it);\n      break;\n    }\n    default :\n      return state;\n  }\n  localStorage.setItem('diary', JSON.stringify(newState));\n  return        ;\n};\n\nexport const DiaryStateContext = React.createContext();\nexport const DiaryDispatchContext = React.createContext();\n\nfunction App() {\n  const [data, dispatch] = useReducer(reducer, []);\n  const dataId = useRef(0);\n\n  useEffect(()=>{\n    const localData = localStorage.getItem('diary');\n    if(localData){\n      const diaryList = JSON.parse(localData).sort((a,b) => parseInt(b.id) - parseInt(a.id));\n      // dataId.current = parseInt(diaryList[0].id) + 1;\n      console.log(diaryList[0].id + 1)\n\n      dispatch({ type:\"INIT\", data:diaryList });\n    }\n  }, []);\n\n\n  const onCreate = (date, content, emotion) => {\n    dispatch({\n      type : \"CREATE\",\n      data : {\n        id: dataId.current,\n        date: new Date(date).getTime(),\n        content,\n        emotion\n      }\n    });\n    dataId.current += 1;\n  };\n\n  const onEdit = (targetId, date, content, emotion) => {\n    dispatch({\n      type : \"EDIT\",\n      data : {\n        id: targetId,\n        date : new Date(date).getTime(),\n        content,\n        emotion\n      }\n    });\n  }\n\n  const onRemove = (targetId) => {\n    dispatch({\n      type : \"REMOVE\",\n      targetId\n    });\n  }\n\n  return (\n    <DiaryStateContext.Provider value={data}>\n      <DiaryDispatchContext.Provider\n        value={{\n          onCreate,\n          onEdit,\n          onRemove\n        }}\n      >\n        <BrowserRouter>\n          <div className=\"App\">\n          <Routes>\n            <Route path=\"/\" element={<Home/>}/>\n            <Route path=\"/new\" element={<New/>}/>\n            <Route path=\"/edit/:id\" element={<Edit/>}/>\n            <Route path=\"/diary/:id\" element={<Diary/>}/>\n          </Routes>\n          </div>\n        </BrowserRouter>\n      </DiaryDispatchContext.Provider>\n    </DiaryStateContext.Provider>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}